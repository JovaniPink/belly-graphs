{"version":3,"sources":["static/js/theme-switch.js"],"names":["ThemeConfig","themeChangeHandlers","prototype","loadTheme","localStorage","getItem","saveTheme","theme","removeItem","setItem","initTheme","displayTheme","getTheme","detectTheme","window","matchMedia","matches","setTheme","document","body","setAttribute","_i","_a","length","handler","writeDarkSwitch","config","write","darkSwitch","getElementById","checked","onchange","push"],"mappings":";AAEA,IAAIA,EAAe,WACRA,SAAAA,IACFC,KAAAA,oBAAsB,GAkCtBD,OAhCPA,EAAYE,UAAUC,UAAY,WACzBC,OAAAA,aAAaC,QAAQ,UAE9BL,EAAYE,UAAUI,UAAY,SAAUC,GAC5B,OAAVA,EACFH,aAAaI,WAAW,SAExBJ,aAAaK,QAAQ,QAASF,IAGlCP,EAAYE,UAAUQ,UAAY,WAC3BC,KAAAA,aAAa,KAAKC,aAEzBZ,EAAYE,UAAUW,YAAc,WAC3BC,OAAAA,OAAOC,WAAW,gCAAgCC,QACrD,OACA,SAENhB,EAAYE,UAAUU,SAAW,WACxB,OAAA,KAAKT,aAAe,KAAKU,eAElCb,EAAYE,UAAUe,SAAW,SAAUV,GACpCD,KAAAA,UAAUC,GACVI,KAAAA,aAAaJ,IAEpBP,EAAYE,UAAUS,aAAe,SAAUJ,GAC7CW,SAASC,KAAKC,aAAa,aAAcb,GACpC,IAAA,IAAIc,EAAK,EAAGC,EAAK,KAAKrB,oBAAqBoB,EAAKC,EAAGC,OAAQF,IAAM,EAEpEG,EADcF,EAAGD,IACTd,KAGLP,EApCU,GAuCnB,SAASyB,EAAgBC,GACvBR,SAASS,MACP,wMAEEC,IAAAA,EAAaV,SAASW,eAAe,cAQlCD,OAPPA,EAAWE,QAAgC,SAAtBJ,EAAOd,WAC5BgB,EAAWG,SAAW,WACpBL,EAAOT,SAASW,EAAWE,QAAU,OAAS,UAEhDJ,EAAOzB,oBAAoB+B,KAAK,SAAUzB,GAChCqB,OAAAA,EAAWE,QAAoB,SAAVvB,IAExBqB","file":"theme-switch.cf8d4b15.js","sourceRoot":"..","sourcesContent":["// I used TypeScript to create this file.\n\nlet ThemeConfig = (function () {\n  function ThemeConfig() {\n    this.themeChangeHandlers = [];\n  }\n  ThemeConfig.prototype.loadTheme = function () {\n    return localStorage.getItem('theme');\n  };\n  ThemeConfig.prototype.saveTheme = function (theme) {\n    if (theme === null) {\n      localStorage.removeItem('theme');\n    } else {\n      localStorage.setItem('theme', theme);\n    }\n  };\n  ThemeConfig.prototype.initTheme = function () {\n    this.displayTheme(this.getTheme());\n  };\n  ThemeConfig.prototype.detectTheme = function () {\n    return window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  };\n  ThemeConfig.prototype.getTheme = function () {\n    return this.loadTheme() || this.detectTheme();\n  };\n  ThemeConfig.prototype.setTheme = function (theme) {\n    this.saveTheme(theme);\n    this.displayTheme(theme);\n  };\n  ThemeConfig.prototype.displayTheme = function (theme) {\n    document.body.setAttribute('data-theme', theme);\n    for (var _i = 0, _a = this.themeChangeHandlers; _i < _a.length; _i++) {\n      var handler = _a[_i];\n      handler(theme);\n    }\n  };\n  return ThemeConfig;\n})();\n\nfunction writeDarkSwitch(config) {\n  document.write(\n    '\\n<div class=\"custom-control custom-switch\">\\n<input type=\"checkbox\" class=\"custom-control-input\" id=\"darkSwitch\">\\n<label class=\"custom-control-label\" for=\"darkSwitch\">Dark Mode</label>\\n</div>\\n'\n  );\n  var darkSwitch = document.getElementById('darkSwitch');\n  darkSwitch.checked = config.getTheme() === 'dark';\n  darkSwitch.onchange = function () {\n    config.setTheme(darkSwitch.checked ? 'dark' : 'light');\n  };\n  config.themeChangeHandlers.push(function (theme) {\n    return (darkSwitch.checked = theme === 'dark');\n  });\n  return darkSwitch;\n}\n"]}